{"version":3,"sources":["../api.js"],"names":[],"mappings":";;AAAA,IAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACnC,IAAM,MAAM,GAAG,OAAO,CAAC,eAAe,CAAC,CAAC;;AAExC,IAAM,2BAA2B,GAAG,EAAC,GAAG,EAAE,SAAS,GAAG,MAAM,CAAC,WAAW,GAAG,qCAAqC,EAAC,CAAC;AAClH,IAAM,oBAAoB,GAAG,EAAC,GAAG,EAAE,SAAS,GAAG,MAAM,CAAC,WAAW,GAAG,8BAA8B,EAAC,CAAC;;AAEpG,IAAM,SAAS,GAAG,SAAZ,SAAS,CAAa,GAAG,EAAE,EAAE,EAAE;;AAEjC,WAAO,CAAC;AACJ,WAAG,EAAE,GAAG;AACR,YAAI,EAAE,IAAI;KACb,EAAE,UAAU,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE;AAChC,YAAI,CAAC,KAAK,IAAI,QAAQ,CAAC,UAAU,KAAK,GAAG,EAAE;AACvC,cAAE,CAAC,IAAI,CAAC,CAAC;;SAEZ;AACD,YAAI,KAAK,EAAE;AACP,mBAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;;SAEtB;KACJ,CAAC,CAAA;CAAC,CAAC;;AAER,IAAM,0BAA0B,GAAG,SAA7B,0BAA0B,CAAY,EAAE,EAAE;AAC5C,WAAO,SAAS,CAAC,2BAA2B,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;CACzD,CAAC;AACF,IAAM,mBAAmB,GAAG,SAAtB,mBAAmB,CAAY,EAAE,EAAE;AACrC,WAAO,SAAS,CAAC,oBAAoB,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC;CAClD,CAAC;;AAEF,MAAM,CAAC,OAAO,GAAG;AACb,8BAA0B,EAAE,0BAA0B;AACtD,uBAAmB,EAAE,mBAAmB;CAC3C,CAAC","file":"api.js","sourcesContent":["const request = require('request'); // require in request\r\nconst config = require('./config.json');\r\n\r\nconst initGetVoiceCSQDetailsStats = {uri: 'http://' + config.puccxipaddr + ':9080/realtime/VoiceCSQDetailsStats'};\r\nconst initGetVoiceIAQStats = {uri: 'http://' + config.puccxipaddr + ':9080/realtime/VoiceIAQStats'};\r\n\r\nconst apiCaller = function (url, cb) {\r\n    //use request to make the external http call to the JSON api\r\n    request({\r\n        url: url,\r\n        json: true\r\n    }, function (error, response, body) {\r\n        if (!error && response.statusCode === 200) {\r\n            cb(body);// Send body/response to callback\r\n            //console.log(response);\r\n        }\r\n        if (error) {\r\n            console.log(error);\r\n            //cb(\"Error\");\r\n        }\r\n    })};\r\n// Call the api with a call back\r\nconst apiGetVoiceCSQDetailsStats = function(cb) {\r\n    return apiCaller(initGetVoiceCSQDetailsStats.uri, cb);\r\n};\r\nconst apiGetVoiceIAQStats = function(cb) {\r\n    return apiCaller(initGetVoiceIAQStats.uri, cb);\r\n};\r\n// Export the functions for external access\r\nmodule.exports = {\r\n    apiGetVoiceCSQDetailsStats: apiGetVoiceCSQDetailsStats,\r\n    apiGetVoiceIAQStats: apiGetVoiceIAQStats\r\n};"]}